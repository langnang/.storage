<mxfile host="65bd71144e">
    <diagram id="UVWKbVEelITstnk02T8v" name="Staging">
        <mxGraphModel dx="1226" dy="1201" grid="1" gridSize="10" guides="1" tooltips="0" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="1">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-2" value="" style="edgeStyle=none;html=1;noEdgeStyle=1;orthogonal=1;shadow=0;" parent="1" source="MaaqW-_BJo093e7fr_Jw-1" target="9Do57u_ax0ttvzp2tEGY-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="263.8888888888889" y="172"/>
                            <mxPoint x="262.962962962963" y="248"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="MaaqW-_BJo093e7fr_Jw-1" value="staging_item" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="218.8888888888889" y="130" width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-7" value="" style="edgeStyle=none;html=1;noEdgeStyle=1;orthogonal=1;shadow=0;" parent="1" source="9Do57u_ax0ttvzp2tEGY-1" target="9Do57u_ax0ttvzp2tEGY-6" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="222.962962962963" y="302"/>
                            <mxPoint x="130" y="378"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-8" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];rotation=0;shadow=0;" parent="9Do57u_ax0ttvzp2tEGY-7" vertex="1" connectable="0">
                    <mxGeometry width="30" height="30" relative="1" as="geometry">
                        <mxPoint x="-15" y="11" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-12" value="" style="edgeStyle=none;html=1;shadow=0;noEdgeStyle=1;orthogonal=1;" parent="1" source="9Do57u_ax0ttvzp2tEGY-1" target="9Do57u_ax0ttvzp2tEGY-11" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="302.962962962963" y="302"/>
                            <mxPoint x="395" y="378"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-13" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=0;" parent="9Do57u_ax0ttvzp2tEGY-12" vertex="1" connectable="0">
                    <mxGeometry x="90" width="30" height="30" relative="1" as="geometry">
                        <mxPoint x="-15" y="-15" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-1" value="判断主键是否存在且不为空" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="177.962962962963" y="260" width="170" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-28" value="" style="rounded=1;sketch=0;html=1;shadow=0;strokeColor=default;orthogonal=1;align=center;noEdgeStyle=1;" parent="1" source="9Do57u_ax0ttvzp2tEGY-6" target="9Do57u_ax0ttvzp2tEGY-27" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="130" y="432"/>
                            <mxPoint y="470"/>
                            <mxPoint y="610"/>
                            <mxPoint y="610"/>
                            <mxPoint y="740"/>
                            <mxPoint y="740"/>
                            <mxPoint y="870"/>
                            <mxPoint x="195.2777777777778" y="908"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-6" value="没有主键，就新增默认 status=private 非草稿数据" style="whiteSpace=wrap;strokeWidth=2;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="-15" y="390" width="290" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-16" value="" style="edgeStyle=none;html=1;shadow=0;noEdgeStyle=1;orthogonal=1;" parent="1" source="9Do57u_ax0ttvzp2tEGY-11" target="9Do57u_ax0ttvzp2tEGY-15" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="352.5" y="432"/>
                            <mxPoint x="260" y="508"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-17" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=0;" parent="9Do57u_ax0ttvzp2tEGY-16" vertex="1" connectable="0">
                    <mxGeometry x="180" width="30" height="30" relative="1" as="geometry">
                        <mxPoint x="-15" y="-15" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-22" style="edgeStyle=none;sketch=0;html=1;entryX=1;entryY=0;entryDx=0;entryDy=0;shadow=0;strokeColor=default;noEdgeStyle=1;orthogonal=1;rounded=1;" parent="1" source="9Do57u_ax0ttvzp2tEGY-11" target="9Do57u_ax0ttvzp2tEGY-18" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="437.5" y="432"/>
                            <mxPoint x="520" y="470"/>
                            <mxPoint x="520" y="610"/>
                            <mxPoint x="403.0555555555556" y="648"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-23" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];shadow=0;" parent="9Do57u_ax0ttvzp2tEGY-22" vertex="1" connectable="0">
                    <mxGeometry x="270" width="30" height="30" relative="1" as="geometry">
                        <mxPoint x="-15" y="-15" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-11" value="判断当前数据类型是否为草稿" style="rhombus;whiteSpace=wrap;strokeWidth=2;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="305" y="390" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-19" value="" style="edgeStyle=none;html=1;shadow=0;noEdgeStyle=1;orthogonal=1;" parent="1" source="9Do57u_ax0ttvzp2tEGY-15" target="9Do57u_ax0ttvzp2tEGY-18" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="260" y="572"/>
                            <mxPoint x="313.0555555555556" y="648"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-15" value="若不存在父本($request-&amp;gt;input($parentColumn) === 0)，则更新数据类型为private&lt;br&gt;同时将数据中的父本ID修改为主键ID, 以便于草稿关联正确的父本ID" style="whiteSpace=wrap;strokeWidth=2;html=1;labelBackgroundColor=none;labelBorderColor=none;horizontal=1;verticalAlign=middle;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="30" y="520" width="460" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-25" value="" style="edgeStyle=none;rounded=1;sketch=0;html=1;shadow=0;strokeColor=default;noEdgeStyle=1;orthogonal=1;" parent="1" source="9Do57u_ax0ttvzp2tEGY-18" target="9Do57u_ax0ttvzp2tEGY-24" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="358.0555555555556" y="702"/>
                            <mxPoint x="296.6666666666667" y="778"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-18" value="更正数据中主键为父本对应的ID" style="whiteSpace=wrap;strokeWidth=2;labelBackgroundColor=none;labelBorderColor=none;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="263.0555555555556" y="660" width="190" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-29" style="edgeStyle=none;rounded=1;sketch=0;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;shadow=0;strokeColor=default;noEdgeStyle=1;orthogonal=1;" parent="1" source="9Do57u_ax0ttvzp2tEGY-24" target="9Do57u_ax0ttvzp2tEGY-27" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="296.6666666666667" y="832"/>
                            <mxPoint x="275.2777777777778" y="908"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-24" value="删除所有历史草稿记录" style="whiteSpace=wrap;html=1;strokeWidth=2;labelBackgroundColor=none;labelBorderColor=none;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="226.66666666666669" y="790" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="6XivYaLf0CwX9w1nfUOL-2" value="" style="edgeStyle=entityRelationEdgeStyle;rounded=1;sketch=0;html=1;shadow=0;strokeColor=default;elbow=vertical;noEdgeStyle=1;orthogonal=1;" parent="1" source="9Do57u_ax0ttvzp2tEGY-27" target="6XivYaLf0CwX9w1nfUOL-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="235.27777777777783" y="972"/>
                            <mxPoint x="235.27777777777783" y="1048"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="9Do57u_ax0ttvzp2tEGY-27" value="新增草稿数据&lt;br&gt;存在slug的就更新唯一标识" style="whiteSpace=wrap;strokeWidth=2;html=1;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="150.2777777777778" y="920" width="170" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="6XivYaLf0CwX9w1nfUOL-1" value="return" style="whiteSpace=wrap;html=1;strokeWidth=2;shadow=0;" parent="1" vertex="1">
                    <mxGeometry x="210.2777777777778" y="1060" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="6XivYaLf0CwX9w1nfUOL-8" style="edgeStyle=none;rounded=1;sketch=0;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;strokeColor=default;elbow=vertical;noEdgeStyle=1;orthogonal=1;" parent="1" source="6XivYaLf0CwX9w1nfUOL-3" target="MaaqW-_BJo093e7fr_Jw-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="185" y="42"/>
                            <mxPoint x="243.8888888888889" y="118"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="6XivYaLf0CwX9w1nfUOL-3" value="&lt;span style=&quot;color: rgb(240, 240, 240); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(42, 37, 47); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;staging_content_item&lt;/span&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;shadow=0;labelBackgroundColor=none;labelBorderColor=none;" parent="1" vertex="1">
                    <mxGeometry x="115" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="6XivYaLf0CwX9w1nfUOL-7" style="edgeStyle=none;rounded=1;sketch=0;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;shadow=0;strokeColor=default;elbow=vertical;noEdgeStyle=1;orthogonal=1;" parent="1" source="6XivYaLf0CwX9w1nfUOL-4" target="MaaqW-_BJo093e7fr_Jw-1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="345" y="42"/>
                            <mxPoint x="283.8888888888889" y="118"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="6XivYaLf0CwX9w1nfUOL-4" value="staging_meta_item" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;shadow=0;labelBackgroundColor=none;labelBorderColor=none;" parent="1" vertex="1">
                    <mxGeometry x="285" width="120" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="HQ2gi5i4jOzxwyGcM27P" name="第 1 页">
        <mxGraphModel dx="826" dy="801" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="_CbWIr84dGbq_c_ima2m" name="Release">
        <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="ohAeVqa0l1FChERUxGap-2" value="" style="edgeStyle=none;rounded=1;sketch=0;shadow=0;strokeColor=default;html=1;noEdgeStyle=1;orthogonal=1;" edge="1" parent="1" source="QPKwurMST3ryNd0jWeGG-1" target="ohAeVqa0l1FChERUxGap-1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="150.679012345679" y="42"/>
                            <mxPoint x="150.679012345679" y="118"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="QPKwurMST3ryNd0jWeGG-1" value="release_item" style="strokeWidth=2;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="105.67901234567901" width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-4" value="N" style="edgeStyle=none;rounded=1;sketch=0;html=1;shadow=0;strokeColor=default;noEdgeStyle=1;orthogonal=1;" edge="1" parent="1" source="ohAeVqa0l1FChERUxGap-1" target="ohAeVqa0l1FChERUxGap-3">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="118.17901234567901" y="172"/>
                            <mxPoint x="40" y="248"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-9" value="Y" style="edgeStyle=none;rounded=1;sketch=0;html=1;shadow=0;strokeColor=default;noEdgeStyle=1;orthogonal=1;" edge="1" parent="1" source="ohAeVqa0l1FChERUxGap-1" target="ohAeVqa0l1FChERUxGap-8">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="183.179012345679" y="172"/>
                            <mxPoint x="260" y="248"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-1" value="校验当前数据是否存在" style="rhombus;whiteSpace=wrap;strokeWidth=2;html=1;" vertex="1" parent="1">
                    <mxGeometry x="80.67901234567901" y="130" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-3" value="throw error" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
                    <mxGeometry y="260" width="80" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-14" value="Y" style="edgeStyle=none;rounded=1;sketch=0;html=1;shadow=0;strokeColor=default;noEdgeStyle=1;orthogonal=1;" edge="1" parent="1" source="ohAeVqa0l1FChERUxGap-8" target="ohAeVqa0l1FChERUxGap-13">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="187.5" y="302"/>
                            <mxPoint x="190" y="378"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-17" value="N" style="rounded=1;sketch=0;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;shadow=0;strokeColor=default;orthogonal=1;edgeStyle=entityRelationEdgeStyle;elbow=vertical;noEdgeStyle=1;" edge="1" parent="1" source="ohAeVqa0l1FChERUxGap-8" target="ohAeVqa0l1FChERUxGap-15">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="332.5" y="302"/>
                            <mxPoint x="320" y="340"/>
                            <mxPoint x="320" y="480"/>
                            <mxPoint x="276.8827160493827" y="518"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-8" value="根据主键检测是否存在关联草稿，默认有且仅有一个" style="rhombus;whiteSpace=wrap;strokeWidth=2;html=1;" vertex="1" parent="1">
                    <mxGeometry x="110" y="260" width="300" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-16" value="" style="edgeStyle=none;rounded=1;sketch=0;html=1;shadow=0;strokeColor=default;noEdgeStyle=1;orthogonal=1;" edge="1" parent="1" source="ohAeVqa0l1FChERUxGap-13" target="ohAeVqa0l1FChERUxGap-15">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="190" y="442"/>
                            <mxPoint x="231.8827160493827" y="518"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-13" value="替换父本数据为草稿中对应的数据&lt;br&gt;删除草稿数据" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
                    <mxGeometry x="90" y="390" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-20" value="" style="edgeStyle=entityRelationEdgeStyle;rounded=1;sketch=0;html=1;shadow=0;strokeColor=default;elbow=vertical;noEdgeStyle=1;orthogonal=1;" edge="1" parent="1" source="ohAeVqa0l1FChERUxGap-15" target="ohAeVqa0l1FChERUxGap-19">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="254.38271604938268" y="572"/>
                            <mxPoint x="254.38271604938268" y="648"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-15" value="更新当前数据" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
                    <mxGeometry x="204.3827160493827" y="530" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ohAeVqa0l1FChERUxGap-19" value="return" style="whiteSpace=wrap;html=1;strokeWidth=2;" vertex="1" parent="1">
                    <mxGeometry x="229.3827160493827" y="660" width="50" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="BikUcH85bcgccFu9VMFE" name="Select">
        <mxGraphModel dx="940" dy="801" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>
