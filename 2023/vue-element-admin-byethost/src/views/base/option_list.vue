<template>
  <div v-loading="category.loading" class="app-container webstack webstack-home">
    <el-row :gutter="20">
      <el-col v-for="item in query.$options" :key="item.value" :span="6">
        <el-card v-contextmenu:contextmenu shadow="hover" :disabled="item.disabled" :style="{ 'background-color': item.backgroundColor, 'text-align': 'center' }" @click.native="handleClick(item)">
          <h2> {{ item.label }}</h2>
        </el-card>
      </el-col>
      <!--      <el-col :span="6">-->
      <!--        <el-card shadow="hover" style="text-align: center;" @click="handleInsertBranch">-->
      <!--          <i class="el-icon-plus"></i>-->
      <!--        </el-card>-->
      <!--      </el-col>-->
    </el-row>
    <v-contextmenu ref="contextmenu">
      <v-contextmenu-item @click="handleInsertBranch">æ–°å»º</v-contextmenu-item>
      <v-contextmenu-item @click="handleDeleteBranch">åˆ é™¤</v-contextmenu-item>
      <v-contextmenu-item @click="handleUpdateBranch">ä¿®æ”¹</v-contextmenu-item>
      <v-contextmenu-item @click="handleSelectBranch">è¯¦æƒ…</v-contextmenu-item>
    </v-contextmenu>
  </div>
</template>

<script>
export default {
  name: 'OptionList',
  components: {},
  props: {
    query: {
      type: Object,
      default: () => ({})
    },
    history: {
      type: Array,
      default: () => []
    },
  },
  data() {
    return {
      category: {
        loading: false,
      },
    }
  },
  methods: {
    handleInsertBranch() {
    },
    handleDeleteBranch() {
    },
    handleUpdateBranch() {
    },
    handleSelectBranch() {
    },
    handleClick(row) {
      this.$emit('change', { key: 'target', value: row.value })
      console.log('ðŸš€ ~ file: option_list.vue:59 ~ handleClick ~ row:', row)
      this.$emit('toggle', { to: 'content-table', query: row })
    }
  }
}
</script>

<style lang="scss" scoped>
.el-card[disabled] {
  background-color: #fff !important;
  cursor: not-allowed;
  pointer-events: none;
  opacity: 0.7;
}
</style>
