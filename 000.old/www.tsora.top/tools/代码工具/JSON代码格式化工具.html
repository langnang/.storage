<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JSON代码格式化工具</title>
	<link rel="icon" href="/resource/src/img/icon/tsora.png">
	<script type="text/javascript" src="/resource/vendor/require/2.3.5/require.min.js"></script>
	<script type="text/javascript" src="/resource/src/js/require-config.js"></script>
</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<h1 class="text-center">JSON代码格式化工具</h1>
				<p class="alert alert-success">JSON代码格式化工具</p>
			</div>
			<hr>
			<div class="col-md-5">
				<pre id="editor" style="height: calc(100vh - 180px);"></pre>
			</div>
			<div class="col-md-2">
				<div class="btn-group-vertical btn-block" role="group" aria-label="Vertical button group">
					<button type="button" class="btn btn-default" onclick="jsonFormat()">Submit</button>
				</div>
			</div>
			<div class="col-md-5">
				<div id="format" style="height: calc(100vh - 180px);"></div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		var jsonFormat=function(){
			var data=document.getElementById("editor").env.editor.getValue();
			console.log(data);
			$('#format').treeview({
				color: "#000000",
				showBorder: false,
				data: data
			});
		}
		require(["bootstrap-treeview","ace"],function(){
			// ace.require("ace/ext/language_tools");

			var editor = ace.edit("editor",{
				theme:'ace/theme/chrome',
				mode:'ace/mode/json',
				foldStyle:'markbeginend'
			});

			


			var tree = [
			{
				text: 'Parent 1',
				href: '#parent1',
				tags: ['4'],
				nodes: [
				{
					text: 'Child 1',
					href: '#child1',
					tags: ['2'],
					nodes: [
					{
						text: 'Grandchild 1',
						href: '#grandchild1',
						tags: ['0']
					},
					{
						text: 'Grandchild 2',
						href: '#grandchild2',
						tags: ['0']
					}
					]
				},
				{
					text: 'Child 2',
					href: '#child2',
					tags: ['0']
				}
				]
			},
			{
				text: 'Parent 2',
				href: '#parent2',
				tags: ['0']
			},
			{
				text: 'Parent 3',
				href: '#parent3',
				tags: ['0']
			},
			{
				text: 'Parent 4',
				href: '#parent4',
				tags: ['0']
			},
			{
				text: 'Parent 5',
				href: '#parent5'  ,
				tags: ['0']
			}
			];


			// $('#format').treeview({
			// 	color: "#000000",
			// 	levels: 1,
			// 	showBorder: false,
			// 	data: tree
			// });

		});

	</script>
</body>
</html>