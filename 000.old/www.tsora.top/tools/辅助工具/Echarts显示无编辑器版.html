<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Echarts显示无编辑器版</title>
	<link rel="icon" href="/resources/src/img/icon/tsora.png">
	<script type="text/javascript" src="/resources/vendor/require/2.3.5/require.min.js"></script>
	<script type="text/javascript" src="/resources/src/js/require-config.js"></script>
</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12" id="echarts" style="height: calc(100vh - 70px);">
			</div>
		</div>
	</div>

	<script type="text/javascript">
		require(["initialize","bootstrap","echarts"],function(ini,bootstrap,echarts){
			var dir = getUrlParms("dir");
			var file = getUrlParms("file");
			var myChart = echarts.init(document.getElementById('echarts'));

			if(dir==null||file==null){
				dir="Line";
				file="Basic Line Chart.js";
			}
			document.title = file.substring(0,file.lastIndexOf(".js"));
			$.ajax({
				type:"get",
				url:"/resources/data/echarts/"+dir+"/"+file,
				success:function(data){
					eval(data);
					myChart.setOption(option);

				}
			})

			function getUrlParms(name){
				var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
				var r = window.location.search.substr(1).match(reg);
				if(r!=null)
					return unescape(r[2]);
				return null;
			}

		})
		
	</script>
</body>
</html>